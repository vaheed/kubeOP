# API

- mux.HandleFunc("/healthz", func(w http.ResponseWriter, r *http.Request) { w.WriteHeader(http.StatusOK) })
- mux.HandleFunc("/readyz", s.handleReady)
- mux.HandleFunc("/version", s.handleVersion)
- mux.HandleFunc("/openapi.json", s.handleOpenAPI)
- mux.HandleFunc("/v1/platform/policy", s.requireRole("admin", s.platformPolicy))
- mux.HandleFunc("/v1/platform/bootstrap", s.requireRole("admin", s.platformBootstrap))
- mux.HandleFunc("/v1/platform/autoscale", s.requireRole("admin", s.platformAutoscale))
- mux.HandleFunc("/v1/platform/status", s.requireRole("admin", s.platformStatus))
- mux.Handle("/metrics", promHandler())
- mux.HandleFunc("/v1/clusters", s.requireRole("admin", s.clustersCollection))
- mux.HandleFunc("/v1/clusters/", s.requireRole("admin", s.clustersGetDelete))
- mux.HandleFunc("/v1/tenants", s.tenantsCollection)
- mux.HandleFunc("/v1/tenants/", s.requireRoleOrTenantPath(s.tenantsGetDelete))
- mux.HandleFunc("/v1/projects", s.projectsCollection)
- mux.HandleFunc("/v1/projects/", s.requireRoleOrProjectPath(s.projectsGetDelete))
- mux.HandleFunc("/v1/apps", s.appsCollection)
- mux.HandleFunc("/v1/apps/", s.requireRoleOrProjectPath(s.appsGetDelete))
- mux.HandleFunc("/v1/usage/snapshot", s.requireRole("admin", s.usageSnapshot))
- mux.HandleFunc("/v1/usage/ingest", s.requireRole("admin", s.usageIngest))
- mux.HandleFunc("/v1/invoices/", s.requireRoleOrTenantPath(s.invoice))
- mux.HandleFunc("/v1/kubeconfigs/", s.requireRole("admin", s.kubeconfigIssue))
- mux.HandleFunc("/v1/kubeconfigs/project/", s.requireRoleOrProjectPath(s.kubeconfigProject))
- mux.HandleFunc("/v1/jwt/project", s.requireRoleOrTenant(s.jwtMintProject))
- mux.HandleFunc("/v1/cronjobs", s.requireRoleOrProject(s.cronjobsCollection))
- mux.HandleFunc("/v1/cronjobs/", s.requireRoleOrProjectPath(s.cronjobsDo))
